{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Simple Storm Data Schema - Step 3",
  "description": "Simplified storm data extraction focusing on essential claims information",
  "type": "object",
  "required": [
    "property_coordinates",
    "search_summary", 
    "storm_events"
  ],
  "properties": {
    "property_coordinates": {
      "type": "object",
      "required": ["latitude", "longitude"],
      "properties": {
        "latitude": {
          "type": "number",
          "description": "Property latitude coordinate"
        },
        "longitude": {
          "type": "number", 
          "description": "Property longitude coordinate"
        }
      }
    },
    "search_summary": {
      "type": "object",
      "required": ["total_events_found", "search_radius_miles"],
      "properties": {
        "total_events_found": {
          "type": "integer",
          "description": "Total number of storm events found within search radius"
        },
        "search_radius_miles": {
          "type": "integer",
          "description": "Search radius used in miles (typically 15)"
        },
        "closest_event_distance": {
          "type": "number",
          "description": "Distance in miles to closest storm event"
        }
      }
    },
    "storm_events": {
      "type": "array",
      "description": "All storm events found within search radius, sorted by distance",
      "items": {
        "type": "object",
        "required": ["event_date", "storm_type", "distance_miles"],
        "properties": {
          "event_date": {
            "type": "string",
            "format": "date",
            "description": "Storm event date in YYYY-MM-DD format"
          },
          "storm_type": {
            "type": "string",
            "enum": ["Hail", "Wind", "Tornado", "Damage Report"],
            "description": "Type of storm event"
          },
          "distance_miles": {
            "type": "number",
            "description": "Distance from property in miles"
          },
          "hail_size_inches": {
            "type": ["number", "null"],
            "description": "Hail size in inches (null if not hail event)"
          },
          "wind_speed_mph": {
            "type": ["number", "null"], 
            "description": "Wind speed in mph (null if not wind event)"
          },
          "tornado_rating": {
            "type": ["string", "null"],
            "description": "Tornado rating like EF0, EF1, etc. (null if not tornado)"
          },
          "damage_description": {
            "type": ["string", "null"],
            "description": "Description of actual damage reported (if any)"
          },
          "location_description": {
            "type": "string",
            "description": "General location description of where storm occurred"
          }
        }
      }
    },
    "analysis_summary": {
      "type": "string",
      "description": "Brief summary of storm activity patterns and key findings"
    }
  }
}